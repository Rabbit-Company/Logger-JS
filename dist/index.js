var Z;((X)=>{X[X.ERROR=0]="ERROR";X[X.WARN=1]="WARN";X[X.AUDIT=2]="AUDIT";X[X.INFO=3]="INFO";X[X.HTTP=4]="HTTP";X[X.DEBUG=5]="DEBUG";X[X.VERBOSE=6]="VERBOSE";X[X.SILLY=7]="SILLY"})(Z||={});var R={[0]:"\x1B[31m",[1]:"\x1B[93m",[2]:"\x1B[35m",[3]:"\x1B[36m",[4]:"\x1B[34m",[5]:"\x1B[34m",[6]:"\x1B[90m",[7]:"\x1B[90m"};function O(q,Q,k,N){let j=new Date,A=Z[Q],z={"{iso}":j.toISOString(),"{datetime}":j.toISOString().split(".")[0].replace("T"," "),"{time}":j.toISOString().split("T")[1].split(".")[0],"{date}":j.toISOString().split("T")[0],"{utc}":j.toUTCString(),"{ms}":j.getTime().toString()},E={"{datetime-local}":j.toLocaleString("sv-SE").replace(" ","T").split(".")[0].replace("T"," "),"{time-local}":j.toLocaleTimeString("sv-SE"),"{date-local}":j.toLocaleDateString("sv-SE"),"{full-local}":j.toString()},X=A,H=q;if(N){let I=R[Q],W=(V)=>"\x1B[90m"+V+"\x1B[0m";Object.keys(z).forEach((V)=>{z[V]=W(z[V])}),Object.keys(E).forEach((V)=>{E[V]=W(E[V])}),X="\x1B[1m"+I+A+"\x1B[0m",H=I+q+"\x1B[0m"}let B=k,Y={...z,...E};for(let[I,W]of Object.entries(Y))B=B.replace(new RegExp(I,"g"),W);return B.replace(/{type}/g,X).replace(/{message}/g,H)}class P{format;colors;constructor(q="[{datetime-local}] {type} {message}",Q=!0){this.format=q;this.colors=Q}log(q){console.info(O(q.message,q.level,this.format,this.colors))}}class x{level=3;transports=[new P];constructor(q){if(q?.level!==void 0)this.level=q.level;if(q?.transports)this.transports=q.transports}shouldLog(q){return this.level>=q}createLogEntry(q,Q,k){return{message:q,level:Q,timestamp:Date.now(),metadata:k}}processEntry(q){if(!this.shouldLog(q.level))return;for(let Q of this.transports)Q.log(q)}error(q,Q){this.processEntry(this.createLogEntry(q,0,Q))}warn(q,Q){this.processEntry(this.createLogEntry(q,1,Q))}audit(q,Q){this.processEntry(this.createLogEntry(q,2,Q))}info(q,Q){this.processEntry(this.createLogEntry(q,3,Q))}http(q,Q){this.processEntry(this.createLogEntry(q,4,Q))}debug(q,Q){this.processEntry(this.createLogEntry(q,5,Q))}verbose(q,Q){this.processEntry(this.createLogEntry(q,6,Q))}silly(q,Q){this.processEntry(this.createLogEntry(q,7,Q))}addTransport(q){this.transports.push(q)}removeTransport(q){this.transports=this.transports.filter((Q)=>Q!==q)}setLevel(q){this.level=q}}function D(q){return JSON.stringify({time:new Date(q.timestamp).toISOString(),level:q.level,msg:q.message,...q.metadata||{}})}class G{data="";log(q){let Q=this.data.length!==0?`
`:"";this.data+=Q+D(q)}getData(){return this.data??""}reset(){this.data=""}}var S=new P,J=new G,K=new x({level:7,transports:[S,J]}),_=document.getElementById("text"),$=document.getElementById("NDJson");document.getElementById("btn-error")?.addEventListener("click",()=>{if(K.error(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-warn")?.addEventListener("click",()=>{if(K.warn(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-info")?.addEventListener("click",()=>{if(K.info(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-http")?.addEventListener("click",()=>{if(K.http(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-verbose")?.addEventListener("click",()=>{if(K.verbose(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-debug")?.addEventListener("click",()=>{if(K.debug(_?.value),$)$.innerText=J.getData()});document.getElementById("btn-silly")?.addEventListener("click",()=>{if(K.silly(_?.value),$)$.innerText=J.getData()});document.getElementById("reset-NDJson")?.addEventListener("click",()=>{if(J.reset(),$)$.innerText=J.getData()});
