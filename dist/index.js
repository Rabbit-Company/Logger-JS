var q;((j)=>{j[j.ERROR=0]="ERROR";j[j.WARN=1]="WARN";j[j.AUDIT=2]="AUDIT";j[j.INFO=3]="INFO";j[j.HTTP=4]="HTTP";j[j.DEBUG=5]="DEBUG";j[j.VERBOSE=6]="VERBOSE";j[j.SILLY=7]="SILLY"})(q||={});var R={[0]:"\x1B[31m",[1]:"\x1B[93m",[2]:"\x1B[35m",[3]:"\x1B[36m",[4]:"\x1B[34m",[5]:"\x1B[34m",[6]:"\x1B[90m",[7]:"\x1B[90m"};function D(X,$,k,N){let Q=new Date,A=q[$],P={"{iso}":Q.toISOString(),"{datetime}":Q.toISOString().split(".")[0].replace("T"," "),"{time}":Q.toISOString().split("T")[1].split(".")[0],"{date}":Q.toISOString().split("T")[0],"{utc}":Q.toUTCString(),"{ms}":Q.getTime().toString()},z={"{datetime-local}":Q.toLocaleString("sv-SE").replace(" ","T").split(".")[0].replace("T"," "),"{time-local}":Q.toLocaleTimeString("sv-SE"),"{date-local}":Q.toLocaleDateString("sv-SE"),"{full-local}":Q.toString()},j=A,H=X;if(N){let E=R[$],W=(Z)=>"\x1B[90m"+Z+"\x1B[0m";Object.keys(P).forEach((Z)=>{P[Z]=W(P[Z])}),Object.keys(z).forEach((Z)=>{z[Z]=W(z[Z])}),j="\x1B[1m"+E+A+"\x1B[0m",H=E+X+"\x1B[0m"}let x=k,Y={...P,...z};for(let[E,W]of Object.entries(Y))x=x.replace(new RegExp(E,"g"),W);return x.replace(/{type}/g,j).replace(/{message}/g,H)}class I{format;colors;constructor(X="[{datetime-local}] {type} {message}",$=!0){this.format=X;this.colors=$}log(X){console.info(D(X.message,X.level,this.format,this.colors))}}class B{level=3;transports=[new I];constructor(X){if(X?.level!==void 0)this.level=X.level;if(X?.transports)this.transports=X.transports}shouldLog(X){return this.level>=X}createLogEntry(X,$,k){return{message:X,level:$,timestamp:Date.now(),metadata:k}}processEntry(X){if(!this.shouldLog(X.level))return;for(let $ of this.transports)$.log(X)}error(X,$){this.processEntry(this.createLogEntry(X,0,$))}warn(X,$){this.processEntry(this.createLogEntry(X,1,$))}audit(X,$){this.processEntry(this.createLogEntry(X,2,$))}info(X,$){this.processEntry(this.createLogEntry(X,3,$))}http(X,$){this.processEntry(this.createLogEntry(X,4,$))}debug(X,$){this.processEntry(this.createLogEntry(X,5,$))}verbose(X,$){this.processEntry(this.createLogEntry(X,6,$))}silly(X,$){this.processEntry(this.createLogEntry(X,7,$))}addTransport(X){this.transports.push(X)}removeTransport(X){this.transports=this.transports.filter(($)=>$!==X)}setLevel(X){this.level=X}}function O(X){return JSON.stringify({time:new Date(X.timestamp).toISOString(),level:X.level,msg:X.message,...X.metadata||{}})}class G{data="";log(X){let $=this.data.length!==0?`
`:"";this.data+=$+O(X)}getData(){return this.data??""}reset(){this.data=""}}var T=new I,V=new G,K=new B({level:7,transports:[T,V]}),_=document.getElementById("text"),J=document.getElementById("NDJson");document.getElementById("btn-error")?.addEventListener("click",()=>{if(K.error(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-warn")?.addEventListener("click",()=>{if(K.warn(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-info")?.addEventListener("click",()=>{if(K.info(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-http")?.addEventListener("click",()=>{if(K.http(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-verbose")?.addEventListener("click",()=>{if(K.verbose(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-debug")?.addEventListener("click",()=>{if(K.debug(_?.value),J)J.innerText=V.getData()});document.getElementById("btn-silly")?.addEventListener("click",()=>{if(K.silly(_?.value),J)J.innerText=V.getData()});document.getElementById("reset-NDJson")?.addEventListener("click",()=>{if(V.reset(),J)J.innerText=V.getData()});
